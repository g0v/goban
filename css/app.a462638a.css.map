{"version":3,"file":"css/app.a462638a.css","mappings":"AAiPA,KACA,kCACA,CAEA,KACA,8GAIA,CACA,mCACA,kCACA,kBACA,qBACA,eACA,CAEA,SACA,mCACA,qBACA,CAEA,eACA,oBACA,CAEA,0BACA,kCACA,CAEA,WACA,oBACA,CAEA,cACA,oBACA,CAEA,EACA,qBACA,oBACA,CAEA,IACA,sBACA,CAEA,YACA,kCACA,CAEA,QACA,oBACA,CAEA,MACA,oBACA,CAEA,OACA,oBACA,CAEA,aACA,wBACA,CAEA,oCACA,UACA,sBACA,CAEA,EACA,2BACA,CACA,CAEA,oCACA,WACA,sBACA,CACA,KACA,gBACA,CACA,QACA,WACA,CACA,CAEA,mBACA,wBACA,CAEA,iBACA,mCACA,CAEA,eACA,yBACA,CAEA,oBACA,4BACA,mBACA,oBACA,qBACA,wBACA,CAEA,YACA,4BACA,YACA,CAEA,aACA,sBACA,mBACA,2BACA,CACA,YACA,6BACA,aACA,CACA,gCACA,mBACA,2BACA,CACA,CAEA,wBACA,aACA,CC7QA,wCACA,eACA,CACA,oBACA,qBACA,SACA,CACA,oBACA,qBACA,aACA,CAEA,oDACA,oBACA,CAEA,gCACA,iBACA,aACA,CAEA,wBACA,wBACA,0BACA,CAEA,yCACA,4BACA,YACA,CACA,CAEA,oCACA,YACA,CAEA,uBACA,eACA,CC3DA,wCACA,eACA,CACA,oBACA,qBACA,SACA,CACA,oBACA,qBACA,aACA,CACA,yBACA,oBACA,CAEA,yBACA,yBACA,CAEA,gCACA,iBACA,aACA,CAEA,wBACA,wBACA,0BACA,CAEA,yCACA,4BACA,YACA,CACA,CAEA,oCACA,YACA,CAEA,uBACA,eACA,CCtBA,yBACA,eACA,iBACA,CAEA,wCACA,eACA,CACA,oBACA,qBACA,SACA,CACA,oBACA,qBACA,aACA,CAEA,gCACA,iBACA,aACA,CAEA,wBACA,wBACA,0BACA,CAEA,yCACA,4BACA,YACA,CACA,CAEA,oCACA,YACA,CAEA,uBACA,eACA,CCjGA,wBACA,WACA,0BACA,CACA,yBACA,+BACA,CCgBA,wBACA,WACA,0BACA,CACA,yBACA,+BACA,CC2LA,oBACA,QACA,CACA,yBACA,iBACA,aACA,CACA,oCACA,YACA,cACA,CACA,wBACA,WACA,0BACA,CACA,gCACA,eACA,YACA,YACA,CACA,6BACA,gBACA,CACA,iCACA,WACA,CACA,0BAEA,sBACA,iBACA,CACA,8BACA,iBACA,CACA,yBACA,wBACA,CACA,mCACA,YACA,CACA,wBACA,gBACA,qBACA,UACA,CACA,2BACA,YACA,+BACA,CACA,oCACA,gBACA,CACA,oCAKA,sFACA,aACA,CACA,CACA,yBACA,+BACA,CAEA,2BACA,sBACA,kBACA,qBACA,kBACA,gBACA,CC3DA,oBACA,QACA,CACA,yBACA,iBACA,aACA,CACA,oCACA,YACA,cACA,CACA,wBACA,WACA,0BACA,CACA,gCACA,eACA,YACA,YACA,CACA,6BACA,gBACA,CACA,iCACA,WACA,CACA,0BAEA,sBACA,iBACA,CACA,8BACA,iBACA,CACA,yBACA,wBACA,CACA,mCACA,YACA,CACA,wBACA,gBACA,qBACA,UACA,CACA,2BACA,YACA,+BACA,CACA,oCACA,gBACA,CACA,oCAKA,4DACA,aACA,CACA,CACA,yBACA,+BACA,CAEA,2BACA,sBACA,kBACA,qBACA,kBACA,gBACA,CClQA,yBACA,eACA,iBACA,CAEA,oBACA,qBACA,SACA,CACA,oBACA,qBACA,aACA,CAEA,gCACA,iBACA,aACA,CAEA,wBACA,wBACA,0BACA,CClEA,wBACA,eACA,gBACA,eACA,CAEA,wBACA,iBACA,kBACA,YACA,WACA,CCgDA,yBACA,UACA,CACA,uBACA,UACA,CACA,4BACA,eACA,CC3CA,uBACA,oBACA,CAEA,mBACA,uBACA,CAEA,uBACA,UACA","sources":["webpack://goban/./src/App.vue","webpack://goban/./src/components/New.vue","webpack://goban/./src/components/Create.vue","webpack://goban/./src/components/List.vue","webpack://goban/./src/components/seeFrame.vue","webpack://goban/./src/components/seeNav.vue","webpack://goban/./src/components/See.vue","webpack://goban/./src/components/See2.vue","webpack://goban/./src/components/Star.vue","webpack://goban/./src/components/Intro.vue","webpack://goban/./src/components/Update.vue","webpack://goban/./src/components/Chat.vue"],"sourcesContent":["<template lang=\"pug\">\n  portal-target#app(name=\"semantic-ui-vue\")\n    .ui.fixed.top.labeled.icon.menu.fat-only.no-print#nav1\n      router-link.item(to='/')\n        i.home.icon\n        | 首頁\n      a.item(@click=\"$router.go(-1)\" v-if = \"$router.currentRoute.path != '/'\")\n        i.left.arrow.icon\n        | 回上一頁\n      router-link.item(to='/list')\n        i.search.icon\n        | 搜尋\n      router-link.item(to='/intro')\n        i.question.icon\n        | 導覽\n      sui-dropdown.item(icon=\"save outline\")\n        | 工具\n        sui-dropdown-menu\n          //sui-dropdown-item(@click=\"$router.push('/myapp')\")\n            | 手機App\n          sui-dropdown-item(@click=\"$router.push('/extension')\")\n            | 瀏覽器插件\n      .right.menu\n        a.item#sign-out(v-if = \"user\" @click=\"signOut\")\n          img(:src=\"user.photoURL\")\n          span 登出\n        router-link.item(to = \"/chat\")\n          i.chat.icon\n          | 留言板\n        a.item(href=\"https://github.com/g0v/goban\", target=\"_blank\", rel=\"noopener noreferrer\")\n          i.github.icon\n          | 原始碼\n        a.item(href=\"https://www.facebook.com/sharer/sharer.php?u=https://goban.tw\",target=\"_blank\", rel=\"noopener noreferrer\")\n          i.facebook.icon\n          | 分享\n    .ui.fixed.top.menu.thin-only.no-print#nav1\n      router-link.item(to='/')\n        sui-icon(name='home', data-content=\"首頁\", title=\"首頁\")\n      a.item(@click=\"$router.go(-1)\" v-if = \"$router.currentRoute.path != '/'\", data-content=\"回上一頁\", title=\"回上一頁\")\n        sui-icon(name='left arrow')\n      router-link.item(to='/star', data-content=\"珍藏\", title=\"珍藏\")\n        sui-icon(name='star')\n      router-link.item(to='/intro')\n        sui-icon(name='question', data-content=\"導覽\", title=\"導覽\")\n      //sui-dropdown.item(icon=\"save outline\", data-content=\"工具\", title=\"工具\")\n        sui-dropdown-menu\n          sui-dropdown-item(@click=\"$router.push('/myapp')\")\n            | 手機App\n          sui-dropdown-item(@click=\"$router.push('/extension')\")\n            | 瀏覽器插件\n      .right.menu\n        a.item#sign-out-thin(v-if = \"user\" @click=\"signOut\")\n          img(:src=\"user.photoURL\")\n          span 登出\n        router-link.item(to = \"/chat\", target=\"_blank\")\n          i.chat.icon\n        //a.item(href=\"https://github.com/g0v/goban\", target=\"_blank\")\n          i.github.icon\n    router-view(:uid=\"uid\", :user =\"user\", :myUser=\"myUser\", :users=\"users\", :gobans='gobans', :starsFire=\"starsFire\", :mydata=\"mydata\" @create='create', :chats = \"chats\", :myName=\"myName\", :myWindowWidth = \"myWindowWidth\",\n     @onResize = \"onResize\",\n     @submit = \"submit\",\n     @setDataToFireBase = \"setDataToFireBase\",\n     @loadDataFromFireBase = \"loadDataFromFireBase\",\n     @reload = \"reload\",\n     @loginGoogle = \"loginGoogle\",\n     @tryIt=\"user = tryIt()\")\n</template>\n\n<script>\n\n/* eslint-disable */\n\nimport mixin from './mixins/mixin.js'\nimport ss from './mixins/stars.js'\nimport { onValue } from 'firebase/database'\nimport { db, auth, gobansRef, chatsRef, starsRef } from './firebase/db'\n\nexport default {\n  name: 'App',\n  data () {\n    return {\n      txt: '',\n      myWindowWidth: 420,\n      myName: '',\n      uid: '',   // main id\n      user: undefined, // user object\n      users: [],\n      myUser: undefined, // user on firebase\n      stars: {'goban_intro': 5},\n      gobans: [],\n      chats: [],\n      starsFire: [],\n      mydata: [{\"name\":\"零時黑板共筆頁\",\"url\":\"https://hackmd.io/3pvyN_W9TjSsuBok4w2XYA\",\"note\":\"\",\"type\":\"link\"}]\n    }\n  },\n  mixins: [ss, mixin],\n  methods: {\n    onResize (w) {\n      this.myWindowWidth = w || window.innerWidth\n    },\n    loginGoogle: function () {\n      var vm = this\n      var provider = new firebase.auth.GoogleAuthProvider()\n      firebase.auth().signInWithPopup(provider).then(function (result) {\n        // This gives you a Google Access Token. You can use it to access the Google API.\n        vm.provider = 'google'\n        vm.token = result.credential.accessToken\n        // The signed-in user info.\n        vm.uid = result.user.uid\n        // console.log(vm.uid)\n        vm.user = result.user\n        vm.photoURL = vm.user.photoURL\n\n        var obj = {\n          id: vm.uid,\n          name: vm.user.displayName,\n          photoURL: vm.photoURL,\n          email: vm.user.email\n        }\n        //vm.setUserToFireBase(vm.uid, obj , this)\n        //this.$forceUpdate()\n        // ...\n      }).catch(function (error) {\n        // Handle Errors here.\n        var errorCode = error.code\n        var errorMessage = error.message\n        // The email of the user's account used.\n        var email = error.email\n        // The firebase.auth.AuthCredential type that was used.\n        var credential = error.credential\n        console.log(errorCode + errorMessage + email + credential)\n      })\n    },\n    submit: function (n, email, t, photoURL) {\n      var o = {\n        email: email,\n        n: n,\n        t: t,\n        photoURL: photoURL || 'null',\n        time: (new Date()).getTime()\n      }\n      if (t) {\n        const rid = (Math.random() + '').substr(0, 8).replace('.', '')\n        set(ref(db, 'chats'), this.chats).then(\n          console.log('chats更新成功')\n        )\n        window.alert('留言已送出')\n      } else {\n        window.alert('請輸入留言')\n      }\n    },\n    srcURL: function () {\n      var ans\n      if (this.gobans && this.gobans[this.$route.params.id] && this.gobans[this.$route.params.id].use_lev) {\n        ans = 'https://ethercalc.net/' + this.$route.params.id + (this.$route.params.lev || '') + '.csv.json'\n      } else {\n        ans = 'https://ethercalc.net/' + this.$route.params.id + '.csv.json'\n      }\n      return ans\n    },\n    reload: function (newTab, to, from, myWindowWidth) {\n      console.log('reload...')\n      // GET /someUrl\n      this.$http.get(this.srcURL(), { headers: {\n          'X-Requested-With': 'XMLHttpRequest'\n        } \n      }).then(response => {\n        //this.$http.get(csv_api_source).pipe(CSV.parse).done(compile_json);   <--先抓CSV, 再compile成JSON\n        // get body mydata\n        // console.log(response.data)\n        this.mydata = this.parse(response.data)\n        if (this.$route.params.id) {\n          this.setDataToFireBase(this.$route.params.id, this.$route.params.lev, this.mydata)\n        }\n        if (newTab && myWindowWidth <= 500) {\n          console.log('opening...')\n          var t;\n          if (to.params.index === 'new') {\n            t = 'https://ethercalc.net/' + to.params.id + (to.params.lev || '')\n          } else {\n            t = this.mydata[to.params.index].url\n          }\n          // window.open(t, '_blank')\n        }\n        this.$forceUpdate()\n      }, response => {\n        this.mydata = []\n      })\n    },\n    loadStars: function () {\n      this.stars = JSON.parse(localStorage.getItem('stars'))\n    }\n  },\n  mounted: function () {\n    const vm = this\n    this.reload()\n    if (this.checkJSON(localStorage.getItem('stars'))) {\n      this.loadStars()\n    } else {\n      localStorage.setItem('stars', JSON.stringify(this.stars))\n    }\n    onValue(gobansRef, (snapshot) => {\n      const data = snapshot.val()\n      // console.log(data)\n      vm.gobans = data\n    })\n    onValue(chatsRef, (snapshot) => {\n      const data = snapshot.val()\n      // console.log(data)\n      vm.chats = data\n    })\n    onValue(starsRef, (snapshot) => {\n      const data = snapshot.val()\n      // console.log(data)\n      vm.starsFire = data\n    })\n  },\n  watch: {\n    $route (to, from) {\n      //console.log(from.path)\n      //console.log(to.path)\n      console.log(from)\n      console.log(to)\n      this.$gtag.event('action', {\n        event_category: 'navigate',\n        event_action: 'from:' + from.path + ' to:' + to.path,\n        event_label: 'from:' + from.path + ' to:' + to.path,\n        value: 'from:' + from.path + ' to:' + to.path\n      })\n      this.reload(true, to, from)\n    },\n    gobans (n, o) {\n      if (o) {\n        this.loadDataFromFireBase()\n      }\n    }\n  }\n}\n</script>\n<style>\n\nbody {\n  background-color: hsla(120, 30%, 30%, 1) !important;\n}\n\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif,\n               'Microsoft JhengHei',\n                'Microsoft YaHei',\n                'STHeiti',\n                'Apple LiGothic Medium';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: white !important;\n  margin-top: 60px;\n}\n\n.ui.menu {\n  background-color: hsla(30, 55%, 33%, 1) !important;\n  border: none !important;\n}\n\n.ui.menu .item {\n  color: white !important;\n}\n\n.router-link-exact-active {\n  background-color: hsla(30, 55%, 16%, 1) !important;\n}\n\n.ui.header {\n  color: white !important;\n}\n\nh3.sub.header {\n  color: yellow !important;\n}\n\na {\n    color: white !important;\n    text-decoration: none;\n}\n\na.r {\n  margin: 0 1em !important;\n}\n\n.ui.segment {\n  background-color: hsla(30, 55%, 33%, 1) !important;\n}\n\n.yellow {\n  color: yellow !important;\n}\n\n.gray {\n  color: #ccc !important;\n}\n\n.white {\n  color: white !important;\n}\n\na, button, a * {\n  cursor: pointer !important;\n}\n\n@media screen and (max-width: 420px) {\n  .fat-only {\n    display: none !important;\n  }\n\n  p {\n    overflow-x: scroll !important;\n  }\n}\n\n@media screen and (min-width: 600px) {\n  .thin-only {\n    display: none !important;\n  }\n  #app {\n    margin-top: 100px;\n  }\n  #navbar {\n    height: 74px;\n  }\n}\n\n.markdown-body img {\n  max-width: 80vw !important;\n}\n\n.markdown-body a {\n  text-decoration: underline !important;\n}\n\n#sign-out span {\n  margin-top: .5em !important;\n}\n\n#sign-out-thin span {\n  position: absolute !important;\n  top: 20px !important;\n  left: 20px !important;\n  color: black !important;\n  text-shadow: 2px 2px white;\n}\n\n.print-only {\n  visibility: hidden !important;\n  display: none;\n}\n\n@media print {\n  .no-print, .no-print * {\n    height: 0 !important;\n    visibility: hidden !important;\n  }\n  .print-only {\n    visibility: visible !important;\n    display: block;\n  }\n  #navbar, #nav1, #navbar *, #nav1 * {\n    height: 0 !important;\n    visibility: hidden !important;\n  }\n}\n\n.ui.fixed.menu+.ui.grid {\n  padding-top: 0;\n}\n</style>\n","<template lang=\"pug\">\n  .hello\n    h1.ui.header 讓知識星棋羅列\n    h3.sub.header 網址集錦共同筆記\n    .ui.buttons(v-if=\"!user\")\n      a.ui.orange.button(@click=\"loginGoogle()\")\n        i.google.icon\n        | 以Google登入\n      .or\n      a.ui.blue.button(@click=\"tryIt()\")\n        i.lab.icon\n        | 試用\n    .ui.vertical.buttons(v-if=\"user\")\n      router-link.ui.inverted.huge.button(to = \"/list\")\n        i.search.icon\n        | 搜尋\n      router-link.ui.inverted.huge.button(to = \"/create\")\n        i.user.add.icon\n        | 創建\n      router-link.ui.inverted.huge.button(to = \"/star\")\n        i.user.star.icon\n        | 珍藏\n      router-link.ui.inverted.huge.button(to = \"/intro\")\n        i.question.icon\n        | 介紹\n    .ui.divider\n    .ui.grid\n      .ui.one.column.row\n        .column\n          h3.ui.header 快速前往\n          span(v-for = \"(g, idx, order) in gobans\", :key='order')\n            .inner(v-if = \"stars[g.id] > 0\")\n              router-link(:to=\"getFastRoute(g)\", :style=\"{color: g.hex || '#42b983'}\") {{ g.id }} - {{ g.t }}\n                i.right.arrow.icon\n          h3.ui.header 人氣黑板\n          span(v-for = \"(g, idx) in gobans\", :key='idx')\n            .inner(v-if = \"starsFire && starsFire[g.id] > 5\")\n              router-link(:to=\"getFastRoute(g)\", :style=\"{color: g.hex || '#42b983'}\") {{ g.id }} - {{ g.t }}({{starsFire[g.id]}}顆星)\n                i.right.arrow.icon\n</template>\n\n<script>\n\nimport mixin from '../mixins/mixin.js'\nimport ss from '../mixins/stars.js'\n\nexport default {\n  name: 'NewNew',\n  data () {\n    return {\n      navigator: navigator,\n      myKey: '',\n      stars: {'goban_intro': 5}\n    }\n  },\n  props: ['gobans', 'user', 'starsFire'],\n  mixins: [mixin, ss],\n  methods: {\n    tryIt: function () {\n      this.$emit('tryIt')\n    },\n    loginGoogle: function () {\n      this.$emit('loginGoogle')\n    },\n    create: function (k) {\n      this.$emit('create', k)\n      this.$router.push('/see/' + k + '/0/new')\n    },\n    has: function (g, k) {\n      var r = new RegExp(k)\n      return r.test(g.id + g.t)\n    },\n    handleRate: function (id, r) {\n      if (!this.stars[id]) { this.stars[id] = 0 }\n      if (this.stars[id] === r) {\n        this.stars[id] = 0\n      } else {\n        this.stars[id] = r\n      }\n      localStorage.setItem('stars', JSON.stringify(this.stars))\n      this.$forceUpdate()\n    },\n    loadStars: function () {\n      try {\n        this.stars = JSON.parse(localStorage.getItem('stars'))\n      } catch (e) {\n        console.log(e)\n      }\n    }\n  },\n  mounted () {\n    if (this.checkJSON(localStorage.getItem('stars'))) {\n      this.loadStars()\n    } else {\n      localStorage.setItem('stars', JSON.stringify(this.stars))\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n\nh1, h2 {\n  font-weight: normal;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\n\n.ui.vertical.buttons .button:hover {\n  color: black !important;\n}\n\n.column .inner {\n  min-height: 1.6em;\n  padding: 1em 0;\n}\n\n#goban {\n  padding-top: 0 !important;\n  padding-bottom: 0 !important;\n}\n\n@media only screen and (min-width: 600px) {\n  .thin-only {\n    display: none\n  }\n}\n\n.ui.form.container {\n  margin: 1em 0;\n}\n\n#fast {\n  margin-top: .5em;\n}\n\n</style>\n","<template lang=\"pug\">\n  .hello\n    h1.ui.header 搜尋黑板\n    h3.sub.header 創建黑板，讓星棋羅列\n    .ui.warning.message.container\n      | 創建後請至少輸入一筆資料，謝謝\n      br\n      | 如不知如何輸入，請參考\n      router-link(to=\"/intro\").black#intro 介紹頁\n      .ui.form\n        .field\n          .ui.checkbox\n            input(type=\"checkbox\" v-model=\"iagree\" tabindex=\"0\")\n            label 我同意\n    .ui.button.group(v-show=\"iagree\")\n      a.ui.orange.huge.button(v-if=\"!user\", @click=\"loginGoogle()\")\n        i.google.icon\n        | 以Google登入\n      img.ui.small.image(v-else :src=\"user.photoURL\")\n    .ui.form.container(v-show=\"iagree && user\")\n      .field\n        input(type='search', name='', v-model='myKey', placeholder='輸入新棋盤的id', @keydown.enter = \"($router.push('/see/' + myKey + '/0/new'))\")\n    .ui.container\n      .ui.buttons(v-if='myKey && !gobans[myKey]')\n        button.ui.blue.button(@click=\"create(myKey, {'use_lev' : false}, uid)\") 創建簡單的{{myKey}}\n        .or\n        button.ui.green.button(@click=\"create(myKey, {'use_lev' : true}, uid)\") 創建有層級的{{myKey}}\n      .ui.negative.message(v-else v-show=\"myKey\") 對不起， {{myKey}}已存在\n        router-link(:to=\"'/see/' + myKey + '/0/0'\") 前往 {{ myKey }}\n</template>\n\n<script>\n\nimport mixin from '../mixins/mixin.js'\nimport stars from '../mixins/stars.js'\n\nexport default {\n  name: 'CreateCreate',\n  data () {\n    return {\n      iagree: false,\n      myKey: '',\n      stars: {'goban_intro': 5}\n    }\n  },\n  props: ['gobans', 'uid', 'user', 'myUser'],\n  mixins: [stars, mixin],\n  localStorage: ['stars'],\n  methods: {\n    loginGoogle: function () {\n      this.$emit('loginGoogle')\n    },\n    handleRate: function (id, r) {\n      if (!this.stars[id]) { this.stars[id] = 0 }\n      if (this.stars[id] === r) {\n        this.stars[id] = 0\n      } else {\n        this.stars[id] = r\n      }\n      localStorage.setItem('stars', JSON.stringify(this.stars))\n      this.$forceUpdate()\n    },\n    loadStars: function () {\n      try {\n        this.stars = JSON.parse(localStorage.getItem('stars'))\n      } catch (e) {\n        console.log(e)\n      }\n    }\n  },\n  mounted () {\n    if (this.checkJSON(localStorage.getItem('stars'))) {\n      this.loadStars()\n    } else {\n      localStorage.setItem('stars', JSON.stringify(this.stars))\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh1, h2 {\n  font-weight: normal;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na.black {\n  color: #000 !important;\n}\n\na#intro {\n  text-decoration: underline;\n}\n\n.column .inner {\n  min-height: 1.6em;\n  padding: 1em 0;\n}\n\n#goban {\n  padding-top: 0 !important;\n  padding-bottom: 0 !important;\n}\n\n@media only screen and (min-width: 600px) {\n  .thin-only {\n    display: none\n  }\n}\n\n.ui.form.container {\n  margin: 1em 0;\n}\n\n#fast {\n  margin-top: .5em;\n}\n\n</style>\n","<template lang=\"pug\">\n  .hello\n    h1.ui.header 讓知識星棋羅列\n    h3.sub.header 搜尋棋盤，共同筆記\n    .ui.form.container#myForm\n      .field\n        input(v-autofocus=\"\", type='search', name='', v-model='myKey', placeholder='搜尋棋盤', autofocus='true', list=\"gs\" @keydown.enter = \"($router.push('/see/' + myKey + '/0/0'))\")\n        datalist#gs\n          option(v-for = \"g in gobans\", v-bind:key = \"g.id\" :value=\"g.id\") {{ g.id }}\n    .ui.segment.left.aligned.container(v-if=\"myKey\")\n      .ui.active.dimmer(v-if = \"!gobans\")\n        .ui.text.loader Loading...\n      .ui.grid\n        .doubling.two.column.row\n          .column#goban(v-for='g in gobans', :key='g.id')\n            .inner(v-show=\"has(g, myKey)\")\n              a(v-for = \"j in [1,2,3,4,5]\" @click='handleRate(g.id, j)')\n                sui-icon(name='star', :class=\"stars[g.id] >= j ? 'yellow' : 'gray'\")\n              router-link(:to=\"'update/' + g.id\" , data-content=\"設定\", title=\"設定\")\n                i.cogs.icon\n              router-link(:to=\"getFastRoute(g)\" )\n                h2.ui.header(:style=\"{color: g.hex || '#42b983'}\") {{ g.id }} - {{ g.t }}({{starsFire[g.id] || 0}}顆星)\n              p 相關黑板:\n                br\n                router-link.r(v-for = \"r in g.related\", :key=\"r\", :to=\"getFastRoute(g)\" ) {{ r }}\n      i.right.arrow.icon\n    .ui.divider\n    .ui.grid\n      .ui.two.column.row\n        .column\n          h3.ui.header 快速前往\n          span(v-for = \"g in gobans\", :key='g.id')\n            .inner(v-if = \"stars[g.id] > 0\")\n              router-link(:to=\"getFastRoute(g)\", :style=\"{color: g.hex || '#42b983'}\") {{ g.id }} - {{ g.t }}\n                i.right.arrow.icon\n        .colmun\n          h3.ui.header 人氣黑板\n          span(v-for = \"g in gobans\", :key='g.id')\n            .inner(v-if = \"starsFire[g.id] > 5\")\n              router-link(:to=\"getFastRoute(g)\", :style=\"{color: g.hex || '#42b983'}\") {{ g.id }} - {{ g.t }}({{starsFire[g.id]}}顆星)\n                i.right.arrow.icon\n</template>\n\n<script>\n\nimport mixin from '../mixins/mixin.js'\nimport ss from '../mixins/stars.js'\n\nexport default {\n  name: 'ListList',\n  data () {\n    return {\n      navigator: navigator,\n      myKey: '',\n      stars: {'goban_intro': 5}\n    }\n  },\n  props: ['gobans', 'starsFire'],\n  mixins: [mixin, ss],\n  methods: {\n    create: function (k) {\n      this.$emit('create', k)\n      this.$router.push('/see/' + k + '/0/new')\n    },\n    has: function (g, k) {\n      var r = new RegExp(k)\n      return r.test(g.id + g.t)\n    },\n    handleRate: function (id, r) {\n      var or = this.stars[id]\n      if (!this.stars[id]) { this.stars[id] = 0 }\n      if (this.stars[id] === r) {\n        this.stars[id] = 0\n      } else {\n        this.stars[id] = r\n      }\n      localStorage.setItem('stars', JSON.stringify(this.stars))\n      this.setStars(id, this.gobans[id], this.stars[id], or, this.starsFire[this.gobans[id]])\n      this.$forceUpdate()\n    },\n    loadStars: function () {\n      try {\n        this.stars = JSON.parse(localStorage.getItem('stars'))\n      } catch (e) {\n        console.log(e)\n      }\n    }\n  },\n  mounted () {\n    if (this.checkJSON(localStorage.getItem('stars'))) {\n      this.loadStars()\n    } else {\n      localStorage.setItem('stars', JSON.stringify(this.stars))\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n\n#myForm {\n  margin-top: 2em;\n  margin-bottom: 4em;\n}\n\nh1, h2 {\n  font-weight: normal;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\n\n.column .inner {\n  min-height: 1.6em;\n  padding: 1em 0;\n}\n\n#goban {\n  padding-top: 0 !important;\n  padding-bottom: 0 !important;\n}\n\n@media only screen and (min-width: 600px) {\n  .thin-only {\n    display: none\n  }\n}\n\n.ui.form.container {\n  margin: 1em 0;\n}\n\n#fast {\n  margin-top: .5em;\n}\n\n</style>\n","<template lang=\"pug\">\n  .seeframe\n    iframe#iframe.no-print(v-if = \"getSrc(mydata)\" name='iframe', :src='getSrc(mydata)', alt=\"Loading...\")\n    .ui.active.dimmer(v-else)\n      .ui.text.loader Loading...\n</template>\n\n<script>\n\nexport default {\n  name: 'IfraMe',\n  data () {\n    return {\n    }\n  },\n  props: ['mydata'],\n  methods: {\n    getSrc: function (mydata) {\n      if (this.$route.params.index === 'new') {\n        return 'https://ethercalc.net/' + this.$route.params.id + (this.$route.params.lev || '')\n      } else {\n        if (!mydata[0]) { return undefined }\n        if (mydata[this.$route.params.index]) {\n          return decodeURIComponent(mydata[this.$route.params.index].url)\n        }\n      }\n      return undefined\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n  iframe {\n    width: 100%;\n    height: calc(100vh - 100px)\n  }\n  #iframe {\n    background-color: white !important;\n  }\n</style>\n","<template lang=\"pug\">\n  .ui.fixed.top.menu#navbar.no-print\n    router-link.item(to='/', data-content=\"首頁\", title=\"首頁\")\n      sui-icon(size='small', name='home')\n    router-link.item(:to = \"'/update/' + $route.params.id\", data-content=\"設定\", title=\"設定\")\n      i.cogs.icon\n    sui-dropdown.item(text = \"相關\", v-if='gobans && gobans[$route.params.id] && gobans[$route.params.id].id')\n      sui-dropdown-menu\n        sui-dropdown-item(v-for='r in gobans[$route.params.id].related', :key='r', @click=\"$router.push('/see/' + r + '/0/0')\")\n          | {{ r }}\n    sui-dropdown.item(text = \"等級\", v-if='gobans && gobans[$route.params.id] && gobans[$route.params.id].use_lev')\n      sui-dropdown-menu\n        sui-dropdown-item(v-for='j in [0,1,2,3]', :key='j', @click=\"$router.push('/see/' + $route.params.id + '/' + j + '/0')\")\n          | 等級{{ j }}\n    .right.menu\n      sui-dropdown.item(icon=\"cloud download\", data-content=\"備份\", title=\"備份\")\n        sui-dropdown-menu\n          sui-dropdown-item(@click=\"backupJSON($route.params.id, $route.params.lev, mydata, myName)\")\n            | JSON\n          sui-dropdown-item(@click=\"backupCSV($route.params.id, $route.params.lev)\")\n            | CSV\n      a.item(v-if='mydata && mydata[$route.params.index]', :href='mydata[$route.params.index].url', target='_blank', data-content=\"開新分頁\", title=\"開新分頁\")\n        sui-icon(size='small', name='right arrow')\n      a.item(v-if=\"$route.params.index == 'new'\", :href=\"editURL()\", target='_blank', data-content=\"編輯\", title=\"編輯\")\n        | 編輯\n        sui-icon(size='small', name='right arrow')\n</template>\n\n<script>\n\nimport backup from '../mixins/backup.js'\n\nexport default {\n  name: 'SeeNav',\n  mixins: [backup],\n  data () {\n    return {\n    }\n  },\n  props: ['gobans', 'mydata', 'myName'],\n  methods: {\n    editURL: function () {\n      var ans\n      if (this.gobans && this.gobans[this.$route.params.id] && this.gobans[this.$route.params.id].use_lev) {\n        ans = 'https://cors-anywhere.herokuapp.com/https://ethercalc.net/' + this.$route.params.id + this.$route.params.lev\n      } else {\n        ans = 'https://cors-anywhere.herokuapp.com/https://ethercalc.net/' + this.$route.params.id\n      }\n      return ans\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n  iframe {\n    width: 100%;\n    height: calc(100vh - 100px)\n  }\n  #iframe {\n    background-color: white !important;\n  }\n</style>\n","<template lang=\"pug\">\n  .hello()\n    vue-headful(v-if = \"gobans\", :title=\"$route.params.id + ' > ' + '@零時黑板'\", description=\"gobans && gobans[$route.params.id].t\")\n    see-nav(:gobans=\"gobans\", :mydata = \"mydata\", :myName=\"myName\")\n    .ui.grid.no-print\n      .ui.row\n        .left.aligned.column(:class = \" windowwidth > 500 ? 'four wide column' : 'fourteen wide column' \")\n          .ui.link.relaxed.list(v-if=\"gobans\")\n            a.item#e(:href=\"editURL()\", :target=\"getTarget()\")\n              h3.ui.header#e-text(v-show = \"$route.params.id\")\n                | {{myName || $route.params.id + ($route.params.lev || '')}}\n                i#e-icon.inline.edit.icon\n            hr\n            .item(v-for='(d, index, order) in mydata', :key='index')\n              div(v-if=\"d.type == 'link'\", v-show='!d.parentIndex || mydata[d.parentIndex].open || d.parentIndex < 0', :class = \"order = $route.params.index ? 'active' : ''\")\n                span(v-if='d.parentIndex')\n                a.link(:href='decodeURIComponent(d.url)', target='_blank', v-if=\"tar(d) == '_blank'\" @click=\"pushRoute(gobans[$route.params.id].use_lev, index)\")\n                  | {{ decodeURIComponent(d.name) }}\n                  span.note(v-if=\"d.note2\") {{ d.note2 }}\n                  img.favicon.floating.right(:src=\"'https://www.google.com/s2/favicons?domain=' + d.url\")\n                  sui-icon.floating.right(name='right arrow')\n                a.link(v-else='', :href='decodeURIComponent(d.url)', :target='getTarget()' @click=\"pushRoute(gobans[$route.params.id].use_lev, index)\")\n                  | {{ decodeURIComponent(d.name) }}\n                  span.note(v-if=\"d.note2\") {{ d.note2 }}\n                  img.favicon.floating.right(:src=\"'https://www.google.com/s2/favicons?domain=' + d.url\")\n                  sui-icon.floating.right(v-if = \"windowwidth < 500\" , name='right arrow')\n              div.folder(v-if=\"d.type == 'folder'\")\n                a(@click='d.open = !d.open')\n                  | {{decodeURIComponent(d.name)}}\n                  span.note(v-if=\"d.note2\") {{ d.note2 }}\n                  img.ui.mini.image(src='/images/isClosed.png', v-show='!d.open')\n                  img.ui.mini.image(src='/images/isOpen.png', v-show='d.open')\n            .item\n              span(style = \"margin-left: 1em;\")\n                strong.white 請打星等\n                span.white\n                  | (目前\n                  | {{starsFire[$route.params.id]|| 0}}顆星)\n              br\n              a(v-for = \"j in [1,2,3,4,5]\" @click='handleRate($route.params.id, j)' v-if = \"stars\")\n                sui-icon(name='star', :class=\"stars[$route.params.id] >= j ? 'yellow' : 'gray'\")\n        div.no-print(v-if =\"starsFire\" v-show = \"windowwidth > 500\", :class = \" windowwidth > 500 ? 'twelve wide column' : 'zero wide column' \")\n          see-frame(:mydata=\"mydata\")\n    .print-only\n      h1.ui.header {{ $route.params.id }} @ 零時黑板\n      img#qr(:src = \"getQR()\", alt = \"$route.params.id + ' @ 零時黑板'\")\n      h1.ui.header {{ getURL() }}\n</template>\n\n<script>\n\nimport mixin from '../mixins/mixin.js'\nimport ss from '../mixins/stars.js'\nimport seeFrame from './seeFrame'\nimport seeNav from './seeNav'\n\nexport default {\n  name: 'SeeSee',\n  props: ['gobans', 'mydata', 'myName', 'starsFire'],\n  components: { seeNav, seeFrame },\n  mixins: [ss, mixin],\n  data () {\n    return {\n      windowwidth: window.innerWidth,\n      name: 'See',\n      stars: {'goban_intro': 5}\n    }\n  },\n  methods: {\n    getTarget (windowwidth) {\n      if ((this.windowwidth || windowwidth) < 500) {\n        return '_blank'\n      } else {\n        return 'iframe'\n      }\n    },\n    pushRoute (useLev, idx) {\n      console.log('pushRoute')\n      console.log(idx)\n      this.$router.push(this.getNewRoute(useLev, idx))\n    },\n    onResize () {\n      this.windowwidth = window.innerWidth\n      this.$emit('onResize', window.innerWidth)\n    },\n    getURL: function () {\n      return encodeURIComponent('http://goban.tw/#/s/' + this.$route.params.id + '/0')\n    },\n    getQR: function () {\n      var url = this.getURL()\n      var ans = 'https://chart.googleapis.com/chart?chs=300x300&cht=qr&choe=UTF-8&chl=' + url\n      console.log(ans)\n      return ans\n    },\n    getNewRoute: function (useLev, idx) {\n      var ans\n      if (useLev) {\n        ans = '/see/' + this.$route.params.id + '/' + this.$route.params.lev + '/' + idx\n      } else {\n        ans = '/s/' + this.$route.params.id + '/' + idx\n      }\n      return ans\n    },\n    getRoute: function (useLev) {\n      var ans\n      if (useLev) {\n        ans = '/see/' + this.$route.params.id + '/' + this.$route.params.lev + '/new'\n      } else {\n        ans = '/s/' + this.$route.params.id + '/new'\n      }\n      return ans\n    },\n    editURL: function () {\n      var ans\n      if (this.gobans && this.gobans[this.$route.params.id] && this.gobans[this.$route.params.id].use_lev) {\n        ans = 'https://ethercalc.net/' + this.$route.params.id + this.$route.params.lev\n      } else {\n        ans = 'https://ethercalc.net/' + this.$route.params.id\n      }\n      return ans\n    },\n    useLev: function (g) {\n      if (!g) { return true }\n      return g.use_lev\n    },\n    tar: function (x) {\n      if ((x.note + '').match(/blank/)) {\n        return '_blank'\n      } else {\n        return 'iframe'\n      }\n    },\n    handleRate: function (id, r) {\n      var or = this.stars[id]\n      if (!this.stars[id]) { this.stars[id] = 0 }\n      if (this.stars[id] === r) {\n        this.stars[id] = 0\n      } else {\n        this.stars[id] = r\n      }\n      localStorage.setItem('stars', JSON.stringify(this.stars))\n      this.setStars(id, (this.gobans && this.gobans[id]) || 'goban_intro', this.stars[id], or, this.starsFire[id])\n      this.$forceUpdate()\n    },\n    loadStars: function () {\n      try {\n        this.stars = JSON.parse(localStorage.getItem('stars'))\n      } catch (e) {\n        console.log(e)\n      }\n    },\n    reload: function () {\n      this.$emit('reload', true, this.$route, null)\n    }\n  },\n  mounted: function () {\n    if (this.checkJSON(localStorage.getItem('stars'))) {\n      this.loadStars()\n    } else {\n      localStorage.setItem('stars', JSON.stringify(this.stars))\n    }\n    this.$nextTick(() => {\n      window.addEventListener('resize', this.onResize)\n    })\n    this.reload()\n  },\n  watch: {\n    windowwidth (newWidth, oldWidth) {\n      this.txt = `it changed to ${newWidth} from ${oldWidth}`\n    },\n    gobans (n, o) {\n      console.log(n)\n      console.log(o)\n      this.reload()\n    }\n  },\n  beforeDestroy () {\n    window.removeEventListener('resize', this.onResize)\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n  #e {\n    margin: 0;\n  }\n  #e-icon {\n    margin-left: .2em;\n    color: inherit;\n  }\n  .ui.fixed.top.menu {\n    height: 48px;\n    font-size: 18px;\n  }\n  iframe {\n    width: 100%;\n    height: calc(100vh - 100px)\n  }\n  .ui.mini.image {\n    display: inline;\n    width: 1.5em;\n    height: 1.5em;\n  }\n  .list .item {\n    padding-left: 1em;\n  }\n  .floating.right {\n    float: right;\n  }\n  .favicon {\n    /* filter: grayscale(100%) brightness(150%); */\n    background-color: white;\n    border-radius: 50%;\n  }\n  .ui.dropdown {\n    position: relative;\n  }\n  .inline {\n    display: inline !important;\n  }\n  .ui.active.dimmer {\n    height: 100vh;\n  }\n  a.link {\n    margin-left: 1em;\n    display: inline-block;\n    width: 100%;\n  }\n  .folder a {\n    padding: 2px;\n    background-color: black !important\n  }\n  i.inline.edit.icon {\n    margin-left: 0.5em;\n  }\n  @media screen and (max-width: 420px) {\n    a.link, a.folder {\n      margin-left: 0;\n    }\n\n    i.inline.edit.icon {\n      margin-left: 0;\n    }\n  }\n  #iframe {\n    background-color: white !important;\n  }\n\n  span.note {\n    background-color: gray;\n    border-radius: 5px;\n    display: inline-block;\n    padding: .2em .5em;\n    margin-left: .5em;\n  }\n</style>\n","<template lang=\"pug\">\n  .hello()\n    vue-headful(v-if = \"gobans\" :title=\"$route.params.id + ' > ' + $route.params.lev + '@零時黑板'\", description=\"gobans && gobans[$route.params.id].t\")\n    see-nav(:gobans=\"gobans\", :mydata = \"mydata\", :myName=\"myName\")\n    .ui.grid.no-print\n      .ui.row\n        .left.aligned.column(:class = \" windowwidth > 500 ? 'four wide column' : 'fourteen wide column' \")\n          .ui.link.relaxed.list(v-if=\"gobans\")\n            a.item#e(:href=\"editURL()\", :target=\"getTarget()\")\n              h3.ui.header#e-text(v-show = \"$route.params.id\")\n                | {{myName || $route.params.id + ($route.params.lev || '')}}\n                i#e-icon.inline.edit.icon\n            hr\n            .item(v-for='(d, index, order) in mydata', :key='index')\n              div(v-if=\"d.type == 'link'\", v-show='!d.parentIndex || mydata[d.parentIndex].open || d.parentIndex < 0' :class = \"order = $route.params.index ? 'active' : ''\")\n                span(v-if='d.parentIndex')\n                a.link(:href='decodeURIComponent(d.url)', target='_blank', v-if=\"tar(d) == '_blank'\" @click=\"pushRoute(gobans[$route.params.id].use_lev, index)\")\n                  | {{ decodeURIComponent(d.name) }}\n                  span.note(v-if=\"d.note2\") {{ d.note2 }}\n                  img.favicon.floating.right(:src=\"'https://www.google.com/s2/favicons?domain=' + d.url\")\n                  sui-icon.floating.right(name='right arrow')\n                a.link(v-else='', :href='decodeURIComponent(d.url)', :target='getTarget()' @click=\"pushRoute(gobans[$route.params.id].use_lev, index)\")\n                  | {{ decodeURIComponent(d.name) }}\n                  span.note(v-if=\"d.note2\") {{ d.note2 }}\n                  img.favicon.floating.right(:src=\"'https://www.google.com/s2/favicons?domain=' + d.url\")\n                  sui-icon.floating.right(v-if = \"windowwidth < 500\" , name='right arrow')\n              div.folder(v-if=\"d.type == 'folder'\")\n                a(@click='d.open = !d.open')\n                  | {{decodeURIComponent(d.name)}}\n                  span.note(v-if=\"d.note2\") {{ d.note2 }}\n                  img.ui.mini.image(src='/images/isClosed.png', v-show='!d.open')\n                  img.ui.mini.image(src='/images/isOpen.png', v-show='d.open')\n            .item\n              span(style = \"margin-left: 1em;\")\n                strong.white 請打星等\n                span.white\n                  | (目前\n                  | {{starsFire[$route.params.id] || 0}}顆星)\n              br\n              a(v-for = \"j in [1,2,3,4,5]\" @click='handleRate($route.params.id, j)' v-if = \"stars\")\n                sui-icon(name='star', :class=\"stars[$route.params.id] >= j ? 'yellow' : 'gray'\")\n        div.no-print(v-if =\"starsFire\" v-show = \"windowwidth > 500\", :class = \" windowwidth > 500 ? 'twelve wide column' : 'zero wide column' \")\n          see-frame(:mydata=\"mydata\")\n    .print-only\n      h1.ui.header {{ $route.params.id }} @ 零時黑板\n      img#qr(:src = \"getQR()\", alt = \"$route.params.id + ' @ 零時黑板'\")\n      h1.ui.header {{ getURL() }}\n</template>\n\n<script>\n\nimport mixin from '../mixins/mixin.js'\nimport ss from '../mixins/stars.js'\nimport backup from '../mixins/backup.js'\nimport seeFrame from './seeFrame'\nimport seeNav from './seeNav'\n\nexport default {\n  name: 'SeeSee',\n  props: ['gobans', 'mydata', 'myName', 'starsFire'],\n  components: { seeNav, seeFrame },\n  mixins: [ss, mixin, backup],\n  data () {\n    return {\n      windowwidth: window.innerWidth,\n      name: 'See',\n      stars: {'goban_intro': 5}\n    }\n  },\n  methods: {\n    getTarget (windowwidth) {\n      if ((this.windowwidth || windowwidth) < 500) {\n        return '_blank'\n      } else {\n        return 'iframe'\n      }\n    },\n    pushRoute (useLev, idx) {\n      console.log('pushRoute')\n      console.log(idx)\n      this.$router.push(this.getNewRoute(useLev, idx))\n    },\n    onResize () {\n      this.windowwidth = window.innerWidth\n      this.$emit('onResize', window.innerWidth)\n    },\n    getURL: function () {\n      return encodeURIComponent('http://goban.tw/#/see/' + this.$route.params.id + '/0/0')\n    },\n    getQR: function () {\n      var url = this.getURL()\n      var ans = 'https://chart.googleapis.com/chart?chs=300x300&cht=qr&choe=UTF-8&chl=' + url\n      console.log(ans)\n      return ans\n    },\n    getNewRoute: function (useLev, idx) {\n      var ans\n      if (useLev) {\n        ans = '/see/' + this.$route.params.id + '/' + this.$route.params.lev + '/' + idx\n      } else {\n        ans = '/s/' + this.$route.params.id + '/' + idx\n      }\n      return ans\n    },\n    getRoute: function (useLev) {\n      var ans\n      if (useLev) {\n        ans = '/see/' + this.$route.params.id + '/' + this.$route.params.lev + '/new'\n      } else {\n        ans = '/s/' + this.$route.params.id + '/new'\n      }\n      return ans\n    },\n    editURL: function () {\n      var ans\n      if (this.gobans && this.gobans[this.$route.params.id] && this.gobans[this.$route.params.id].use_lev) {\n        ans = 'https://ethercalc.net/' + this.$route.params.id + this.$route.params.lev\n      } else {\n        ans = 'https://ethercalc.net/' + this.$route.params.id\n      }\n      return ans\n    },\n    useLev: function (g) {\n      if (!g) { return true }\n      return g.use_lev\n    },\n    getSrc: function () {\n      if (this.$route.params.index === 'new') {\n        return 'https://cors-anywhere.herokuapp.com/https://ethercalc.net/' + this.$route.params.id + (this.$route.params.lev || '')\n      } else {\n        if (!this.mydata[0]) { return undefined }\n        if (this.mydata[this.$route.params.index]) {\n          return decodeURIComponent(this.mydata[this.$route.params.index].url)\n        }\n      }\n      return undefined\n    },\n    tar: function (x) {\n      if ((x.note + '').match(/blank/)) {\n        return '_blank'\n      } else {\n        return 'iframe'\n      }\n    },\n    handleRate: function (id, r) {\n      var or = this.stars[id]\n      if (!this.stars[id]) { this.stars[id] = 0 }\n      if (this.stars[id] === r) {\n        this.stars[id] = 0\n      } else {\n        this.stars[id] = r\n      }\n      localStorage.setItem('stars', JSON.stringify(this.stars))\n      this.setStars(id, (this.gobans && this.gobans[id]) || 'goban_intro', this.stars[id], or, this.starsFire[id])\n      this.$forceUpdate()\n    },\n    loadStars: function () {\n      try {\n        this.stars = JSON.parse(localStorage.getItem('stars'))\n      } catch (e) {\n        console.log(e)\n      }\n    },\n    reload: function () {\n      this.$emit('reload', true, this.$route, null)\n    }\n  },\n  mounted: function () {\n    if (this.checkJSON(localStorage.getItem('stars'))) {\n      this.loadStars()\n    } else {\n      localStorage.setItem('stars', JSON.stringify(this.stars))\n    }\n    this.$nextTick(() => {\n      window.addEventListener('resize', this.onResize)\n    })\n    this.reload()\n  },\n  watch: {\n    windowwidth (newWidth, oldWidth) {\n      this.txt = `it changed to ${newWidth} from ${oldWidth}`\n    },\n    gobans (n, o) {\n      console.log(n)\n      console.log(o)\n      this.reload()\n    }\n  },\n  beforeDestroy () {\n    window.removeEventListener('resize', this.onResize)\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n  #e {\n    margin: 0;\n  }\n  #e-icon {\n    margin-left: .2em;\n    color: inherit;\n  }\n  .ui.fixed.top.menu {\n    height: 48px;\n    font-size: 18px;\n  }\n  iframe {\n    width: 100%;\n    height: calc(100vh - 100px)\n  }\n  .ui.mini.image {\n    display: inline;\n    width: 1.5em;\n    height: 1.5em;\n  }\n  .list .item {\n    padding-left: 1em;\n  }\n  .floating.right {\n    float: right;\n  }\n  .favicon {\n    /* filter: grayscale(100%) brightness(150%); */\n    background-color: white;\n    border-radius: 50%;\n  }\n  .ui.dropdown {\n    position: relative;\n  }\n  .inline {\n    display: inline !important;\n  }\n  .ui.active.dimmer {\n    height: 100vh;\n  }\n  a.link {\n    margin-left: 1em;\n    display: inline-block;\n    width: 100%;\n  }\n  .folder a {\n    padding: 2px;\n    background-color: black !important\n  }\n  i.inline.edit.icon {\n    margin-left: 0.5em;\n  }\n  @media screen and (max-width: 420px) {\n    a.link {\n      margin-left: 0;\n    }\n\n    i.inline.edit.icon {\n      margin-left: 0;\n    }\n  }\n  #iframe {\n    background-color: white !important;\n  }\n\n  span.note {\n    background-color: gray;\n    border-radius: 5px;\n    display: inline-block;\n    padding: .2em .5em;\n    margin-left: .5em;\n  }\n</style>\n","<template lang=\"pug\">\n  .hello\n    vue-headful(title=\"珍藏@零時黑板\", description=\"個人珍藏的零時黑板\")\n    h1.ui.header 我的珍藏\n    .ui.form.container#myForm\n      .field\n        input(v-autofocus=\"\", type='search', name='', v-model='myKey', placeholder='搜尋棋盤', autofocus='true', @keydown.enter = \"$router.push(getFastRoute(g))\")\n    .ui.segment.left.aligned.container\n      .ui.active.dimmer(v-if = \"!gobans\")\n        .ui.text.loader Loading...\n      .ui.grid\n        .doubling.one.column.row\n          #goban.column(v-for='g in gobans', :key='g.id')\n            .inner(v-if = \"stars[g.id] > 0\" v-show=\"!myKey || has(g, myKey)\")\n              a(v-for = \"j in [1,2,3,4,5]\" @click = \"handleRate(g.id, j)\")\n                sui-icon(name='star', :class=\"stars[g.id] >= j ? 'yellow' : 'gray'\")\n              router-link(:to=\"'update/' + g.id\" , data-content=\"設定\", title=\"設定\")\n                i.cogs.icon\n              router-link(:to=\"getFastRoute(g)\" )\n                h2.ui.header(:style=\"{color: g.hex || '#42b983'}\") {{ g.id }} - {{ g.t }}\n              p 相關棋盤:\n                br\n                router-link.r(v-for = \"r in g.related\", :key=\"r\", :to=\"'see/' + r + '/0/0'\" ) {{ r }}\n</template>\n\n<script>\n\nimport mixin from '../mixins/mixin.js'\nimport star from '../mixins/stars.js'\n\nexport default {\n  name: 'StarStar',\n  data () {\n    return {\n      myKey: '',\n      stars: {'goban_intro': 5}\n    }\n  },\n  props: ['gobans'],\n  mixins: [mixin, star],\n  localStorage: ['stars'],\n  methods: {\n    has: function (g, k) {\n      var r = new RegExp(k)\n      return r.test(g.id)\n    },\n    create: function (k) {\n      this.$emit('create', k)\n      this.$router.push('/see/' + k + '/0/new')\n    },\n    handleRate: function (id, r) {\n      var or = this.stars[id]\n      if (!this.stars[id]) { this.stars[id] = 0 }\n      if (this.stars[id] === r) {\n        this.stars[id] = 0\n      } else {\n        this.stars[id] = r\n      }\n      localStorage.setItem('stars', JSON.stringify(this.stars))\n      this.setStars(id, this.gobans[id], this.stars[id], or, this.starsFire[this.gobans[id]])\n      this.$forceUpdate()\n    },\n    loadStars: function () {\n      try {\n        this.stars = JSON.parse(localStorage.getItem('stars'))\n      } catch (e) {\n        console.log(e)\n      }\n    }\n  },\n  mounted () {\n    if (this.checkJSON(localStorage.getItem('stars'))) {\n      this.loadStars()\n    } else {\n      localStorage.setItem('stars', JSON.stringify(this.stars))\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n\n#myForm {\n  margin-top: 2em;\n  margin-bottom: 4em;\n}\n\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\n\n.column .inner {\n  min-height: 1.6em;\n  padding: 1em 0;\n}\n\n#goban {\n  padding-top: 0 !important;\n  padding-bottom: 0 !important;\n}\n\n</style>\n","<template>\n  <div class=\"hello\">\n    <iframe src=\"https://hackmd.io/3pvyN_W9TjSsuBok4w2XYA?view\"></iframe>\n<!--    <vue-simple-markdown :source=\"someData\"></vue-simple-markdown> -->\n  </div>\n\n</template>\n\n<script>\n\nexport default {\n  name: 'IntroIntro',\n  data () {\n    return {\n      someData: undefined\n    }\n  },\n  methods: {\n    readMe () {\n      var vm = this\n      this.$http.get('https://raw.githubusercontent.com/g0v/goban/master/README.md').then(response => {\n        // get body data\n        // console.log(response.body)\n        vm.someData = response.body\n      }, response => {\n        console.log(response)\n        // error callback\n      })\n    }\n  },\n  mounted () {\n    this.readMe()\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n\n.hello {\n  font-size: 16px;\n  text-align: left;\n  padding: 1em 3em;\n}\n\niframe {\n  margin-top: -46px;\n  margin-left: -48px;\n  width: 100vw;\n  height: 90vh;\n}\n\n</style>\n","<template lang=\"pug\">\n  .ui.container\n    vue-headful(:title=\"'更新' + $route.params.id\", :description=\"'更新' + $route.params.id\")\n    .ui.grid\n      .ui.row\n        h2.ui.header(:style=\"{color: hex || 'black'}\") 更新{{ $route.params.id }}\n      .ui.row\n        .ui.form\n          .field\n            .ui.labeled.input\n              .ui.label 色碼:\n              input.my-picker(v-model='hex', type='search', name='', list=\"cs\")\n              datalist#cs\n                option(v-for = \"c in colors\", v-bind:key = \"c\", :value = \"c\") {{ c }}\n              .ui.label(:style=\"{'background-color': hex}\") &nbsp;&nbsp;\n            .ui.labeled.input\n              .ui.label 簡介:\n              input(type='text' name='' v-model='gobans[$route.params.id].t' placeholder='輸入棋盤的簡介' autofocus='true')\n          //.field\n            .ui.checkbox\n              input(type=\"checkbox\" name=\"use_lev\" v-model = \"use_lev\")\n              <label>使用等級(取消的話將會連到不同的資料網址)</label>\n      .ui.two.column.row\n        .column 相關棋盤： {{myRelated }}\n        .column(v-for='g in gobans' v-bind:key='g.id')\n          a(@click='adRel(g.id)' :class=\"myRelated.indexOf(g.id) > -1 ? 'yellow' : 'gray'\")\n            | {{ g.id }} -- {{ g.t }}\n      .ui.row\n        .ui.button.group\n          a.ui.blue.huge.button( @click=\"updateGoban(uid)\", v-if='$route.params.id && uid') {{ '更新' + $route.params.id }}\n          router-link.ui.green.huge.button(:to=\"'/see/'+ $route.params.id + '/0/0'\") {{ '前往' + $route.params.id }}\n</template>\n\n<script>\nimport mixin from '../mixins/mixin.js'\n\nexport default {\n  name: 'PageIndex',\n  props: ['gobans', 'uid'],\n  mixins: [mixin],\n  data () {\n    return {\n      myRelated: [],\n      myTags: [],\n      hex: 'green',\n      colors: ['white', 'yellow', 'red', 'green', 'blue', 'black', 'orange', 'brown', 'purple'],\n      stars: { goban_intro: 5 }\n    }\n  },\n  methods: {\n    adRel: function (id) {\n      if (this.myRelated.indexOf(id) > -1) {\n        this.myRelated = this.myRelated.filter(function (o) {\n          return o !== id\n        })\n      } else { this.myRelated.push(id) }\n    },\n    updateGoban: function (uid) {\n      if (!uid) {\n        window.alert('請先登入')\n      } else {\n        this.create(this.$route.params.id,\n          { t: this.gobans[this.$route.params.id].t,\n            related: this.myRelated,\n            tags: this.myTags,\n            hex: this.hex,\n            use_lev: this.use_lev,\n            data: [0, 1, 2, 3]\n          },\n          uid)\n        window.alert('更新成功')\n      }\n    },\n    reload: function () {\n      this.$emit('reload')\n    },\n    getMyRelated: function () {\n      var id = this.$route.params.id\n      return this.gobans[id].related.slice()\n    },\n    getHex: function () {\n      var id = this.$route.params.id\n      return this.gobans[id].hex\n    },\n    getUseLev: function () {\n      var id = this.$route.params.id\n      return this.gobans[id].use_lev\n    }\n  },\n  mounted () {\n    this.myRelated = this.getMyRelated()\n    this.hex = this.getHex()\n    this.use_lev = this.getUseLev()\n  }\n}\n</script>\n\n<style type=\"text/css\" scoped=\"\">\n.yellow {\n  color: #dd0;\n}\n.gray {\n  color: #ccc;\n}\n.ui.header {\n  margin-left: 1em;\n}\n\n</style>\n","<template lang=\"pug\">\n  .chats\n    vue-headful(title=\"留言板@零時黑板\", description=\"留言板@零時黑板\")\n    sui-header(size=\"large\") {{ msg }}\n    .ui.left.aligned.segment.container\n      .ui.comments\n        h3.ui.dividing.header 歡迎留言\n        .comment(v-for=\"c in chats\" :key=\"c.time\")\n          .content\n            a.author(:href=\"'mailto:' + c.email\", target=\"_blank\")\n              .ui.avatar\n                img(v-if = \"c.photoURL && c.photoURL !== 'null' \", :src=\"c.photoURL\")\n                i.large.user.icon(v-else)\n              | {{ c.n }} 說：\n            vue-simple-markdown.text(:source=\"c.t\")\n            .metadata\n              span.date -{{ parseTime(c.time) }}\n      .ui.form\n        .two.fields(v-if = \"user\")\n          .required.field\n            label 您的大名:\n            input(type='text' v-model=\"myName\")\n          .required.field\n            label 請留言:\n            input(type='text' v-model=\"myText\" placeholder=\"您想說什麼？\")\n        button.ui.huge.green.button(v-if =\"user\" @click=\"submit(myName, user.email, myText, user.photoURL)\") 送出留言\n        button.ui.huge.orange.button(v-else, @click=\"loginGoogle()\")\n          i.google.icon\n          | 以Google登入以留言\n\n</template>\n<script>\n\nexport default {\n  name: 'ChatChat',\n  props: ['likes', 'chats', 'user'],\n  data () {\n    return {\n      msg: '留言版',\n      'myName': '訪客',\n      'myText': ''\n    }\n  },\n  methods: {\n    loginGoogle: function () {\n      this.$emit('loginGoogle')\n    },\n    submit: function (n, email, t, photoURL) {\n      this.myName = '訪客'\n      this.myEmail = ''\n      this.myText = ''\n      this.$emit('submit', n, email || 'null', t, photoURL || 'null')\n    },\n    parseTime: function (t) {\n      return (new Date(t)).toLocaleDateString()\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n\n.text {\n  color: white !important ;\n}\n\na {\n  color: #c9c9ff !important;\n}\n\n.date {\n  color: #ccc;\n}\n\n</style>\n"],"names":[],"sourceRoot":""}